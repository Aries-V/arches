<!--
ARCHES - a program developed to inventory and manage immovable cultural heritage.
Copyright (C) 2013 J. Paul Getty Trust and World Monuments Fund

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
-->
{% extends "base-manager.htm" %}
{% load staticfiles %}
{% load i18n %}

{% block title %}
    {{ block.super }}
    {% trans "Import/Export" %}
{% endblock title %}

{% block main_content %}
<div class="scroll-y">
    <div class="graph-list-header" data-bind="css: {'alert-active': (alert() && alert().active())}">
        <div class="page-title-block">
            <div class="center-div" style="padding-top: 0px; padding-left: 28px;">
                <h1 class="page-header text-overflow arches-panel-header"><i class="text-center fa fa-bookmark icon-wrap bg-gray arches-panel-icon"></i> {% trans "Import/Export Manager" %}</h1>
                <p class="arches-panel-subtitle">{% trans "Manage import and export of Arches data" %}</p>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="relative resource-toolbar" style="">

            <!-- Search -->
            <div class="edit-panel-search-bar">

                <!-- Find Button -->
                <div class="">
                    <a class="page-header text-overflow graph-find" href="#" data-bind="click: function () { showFind(!showFind()) }"> {% trans "Find" %} </a>
                </div>

                <!-- Find resource -->
               <!--  <div class="find-widget" style="display: none;" data-bind="visible: showFind()">
                    <div>
                        <select data-bind="chosen: {width: '100%'}, value: graphId, options: resources, optionsText: 'name', optionsValue: 'graphid', optionsCaption: '{% trans "Select a resource..." %}', optionsAfterRender: setResourceOptionDisable"></select>
                    </div>
                </div> -->
            </div>

            <!-- Resource/Graph Toggle -->
            <div class="resource-tools relative" data-bind="visible: !showFind()">
                <a class="resource-grid-title" href="javascript:void(0);">{% trans "Import" %}</a>
                <a class="resource-grid-title" href="javascript:void(0);">{% trans "Export" %}</a>
            </div>

        </div>

    </div>


    <!-- Default Page content-->
    <div id="page-content" style="padding: 0 50px 160px; margin-top: -1px;">

        <!-- New Import Job -->
        <div class="import-export-job-panel" style="margin-top: 5px;">
            <div id="" class="panel">
                <!-- Import Job Header -->
                <div class="panel-heading">
                    <div class="panel-control">
                        <button id="" data-toggle="panel-overlay" data-target="#demo-panel-network" class="btn"><i class="fa fa-rotate-right"></i></button>
                        <div class="btn-group">
                            <button class="dropdown-toggle btn" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-gear"></i></button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something else here</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Separated link</a></li>
                            </ul>
                        </div>
                    </div>
                    <h3 class="panel-title">Import Data</h3>
                </div>


                <!-- Import File Upload -->
                <div id="import-file-upload-panel" class="import-file-upload-panel">

                    <!--Dropzonejs-->



                    <form id="upload-dropzone" action="#" class="dropzone" data-bind="dropzone: dropzoneOptions" style="min-height: 200px; height: 200px; padding: 10px;">
                        <div class="dz-default dz-message">
                            <div class="dz-icon icon-wrap icon-circle icon-wrap">
                                <i class="fa fa-cloud-upload fa-3x"></i>
                            </div>
                            <div>
                                <p class="dz-text">Drop file to upload and import</p>
                                <p class="text-muted">or click to pick manually</p>
                            </div>
                        </div>
                        <div class="fallback">
                            <input name="file" type="file" multiple />
                        </div>
                    </form>
                </div>


                <!--File and Validation Information-->
                <div class="panel-body" style="padding-top: 0px;">

                    <!-- Job Status -->
                    <div id="import-job-status-panel" class="row hidden">
                        <p class="text-semibold text-uppercase"><i class="fa fa-info-circle fa-fw text-primary"></i> Job Status: <span class="text-primary">Validating...</span></p>
                        <ul class="list-unstyled pad-btm">
                            <li class="pad-btm">
                                <div class="clearfix">
                                    <p class="pull-left mar-no">Resources Validated</p>
                                    <p class="pull-right mar-no text-semibold text-primary">1819 of 4370</p>
                                </div>
                                <div class="progress progress-sm">
                                    <div class="progress-bar" style="width: 38%;">
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div id="import-metadata-panel" class="row hidden">
                        <!-- Resource Counts -->
                        <div class="col-md-6 col-lg-9">
                            <p class="text-semibold text-uppercase"><i class="fa fa-plus-circle fa-fw text-primary"></i> Resource Count</p>
                            <div class="row">
                                <ul class="list-unstyled">
                                    <li>
                                        <div class="clearfix">
                                            <p class="pull-left mar-no import-count text-2x text-thin">17588</p>
                                            <p class="imported-resource-name">Archaeological Resources</p>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-lg-3">
                            <p class="text-uppercase text-semibold">Validation Statistics</p>
                            <ul class="list-unstyled">
                                <li class="pad-btm">
                                    <div class="clearfix">
                                        <p class="pull-left mar-no">Valid Resources</p>
                                        <p class="pull-right mar-no">3219</p>
                                    </div>
                                    <div class="progress progress-xs">
                                        <div class="progress-bar" style="width: 70%;">
                                            <span class="sr-only">70% Valid</span>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="clearfix">
                                        <p class="pull-left mar-no">Invalid Resources</p>
                                        <p class="pull-right mar-no">1135</p>
                                    </div>
                                    <div class="progress progress-xs">
                                        <div class="progress-bar progress-bar-info" style="width: 30%;">
                                            <span class="sr-only">30% Invalid</span>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="clearfix">
                                        <a class="pull-left pad-top text-primary" href="">Download invalid resource list</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>


                    <!-- Import Options  -->
                    <div id="import-options-panel" class="pad-rgt hidden">
                        <hr>
                        <p class="text-semibold text-uppercase"><i class="fa fa-cloud-upload fa-fw text-primary"></i> Import Options </p>

                        <!-- Options List -->
                        <div class="col-md-6 col-lg-9">
                            <div class="checkbox import-validation">
                                <label class="form-checkbox form-normal form-primary active form-text"><input type="checkbox" checked=""> Validate before import</label>
                                <label class="form-checkbox form-normal form-primary form-text active"><input type="checkbox"> Append to existing resources</label>
                                <label class="form-checkbox form-normal form-primary form-text active"><input type="checkbox"> Delete uploaded file after import</label>
                            </div>
                        </div>

                        <!-- Import/Cancel Job -->
                        <div class="col-md-6 col-lg-3">
                            <button id="btn-start-import" class="btn btn-primary btn-labeled btn-active-dark fa fa-cloud-upload pull-right">Import</button>
                            <button class="btn btn-danger btn-labeled btn-active-dark fa fa-trash pull-right">Cancel Job</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

{% endblock main_content %}


{% block tabs %}{% endblock tabs %}

{% block pre_require_js %}
{{block.super}}
<script>{% autoescape off %}
    define('importexport-data', [], function() {
        return {

        };
    });
{% endautoescape %}</script>
{% endblock pre_require_js %}
